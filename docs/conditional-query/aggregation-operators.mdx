---
title: Aggregation Operators
description: Learn how to use aggregation operators to aggregate data in ReductStore.
---

<head>
  <link
    rel="canonical"
    href="https://www.reduct.store/docs/conditional-query/aggregation-operators"
  />
</head>

The aggregation operators are used to aggregate data in a **[conditional query](../glossary#conditional-query)**.

The following aggregation operators are supported:

| Operator  | Description                                                         |
| --------- | ------------------------------------------------------------------- |
| `$each_n` | Keeps each N-th record after previous condition                     |
| `$each_t` | Keeps a record after the previous condition once in every N seconds |

## $each_n

The `$each_n` operator is used to keep each N-th record after the previous condition.

### Syntax

```
{
  "$each_n": [
    { <expression as integer> }
  ]
}
```

### Behavior

The operator evaluates the first expression as an integer and uses it to determine the step size for keeping records.

### Examples

Array notation:

```json
{
  "&score": { "$gt": 10 },
  "$each_n": [5] // Keep every 5th record whose score is greater than 10
}
```

## $each_t

The `$each_t` operator is used to keep a record if its timestamp is greater than the previous condition in the given time in seconds.

### Syntax

```
{
  "$each_t": [
    { <expression as float> }
  ]
}
```

### Behavior

The operator evaluates the first expression as a float and uses it to determine the time in seconds for keeping records.

### Examples

Array notation:

```json
{
  "&timestamp": { "$gt": 10 },
  "$each_t": [5] // Keep a record once in every 5 seconds whose score is greater than 10
}
```
